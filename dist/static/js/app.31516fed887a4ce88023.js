webpackJsonp([1],{"98zC":function(e,t){},Kva9:function(e,t){},"MkL/":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu"},[n("router-link",{attrs:{to:"plant-model"}},[n("div",{staticClass:"button-default rounded"},[e._v("\n      Plant model\n    ")])]),e._v(" "),n("router-link",{attrs:{to:"time-model"}},[n("div",{staticClass:"button-default rounded"},[e._v("\n      Time model\n    ")])]),e._v(" "),n("router-link",{attrs:{to:"reason-tree"}},[n("div",{staticClass:"button-default rounded"},[e._v("\n      Reason tree\n    ")])]),e._v(" "),n("router-link",{attrs:{to:"counters"}},[n("div",{staticClass:"button-default rounded"},[e._v("\n      Counters\n    ")])]),e._v(" "),n("router-link",{attrs:{to:"states"}},[n("div",{staticClass:"button-default rounded"},[e._v("\n      States\n    ")])]),e._v(" "),n("router-link",{attrs:{to:"context-fields"}},[n("div",{staticClass:"button-default rounded"},[e._v("\n      Context fields\n    ")])])],1)},staticRenderFns:[]};var i={name:"App",components:{Menu:n("VU/8")({name:"Menu",data:function(){return{msg:"Hi"}}},a,!1,function(e){n("c8Ga")},"data-v-393482d6",null).exports}},s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Menu"),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var r=n("VU/8")(i,s,!1,function(e){n("Os1y")},null,null).exports,d=n("/ocq"),l=n("mvHQ"),c=n.n(l),u=n("Dd8w"),v=n.n(u),p=n("NYxO"),f={view:{deleteConfirmationMessageQuestion:"Are you sure? (click again to confirm)"}},m={name:"PlantModel",data:function(){return{currentNode:void 0,message:"",showMessage:!1,Constants:f}},computed:v()({},Object(p.c)(["plantModel","counters","contextFields"]),{plantModelSerialized:function(){var e=JSON.parse(c()(this.plantModel));e.path=e.name,e.visible=!0;var t=[e];return this.deepFirstSerializer(t,this.plantModel.nodes,0,1,e.name),t},availableCounters:function(){var e=JSON.parse(c()(this.counters));return this.currentNode.counters.forEach(function(t){e.forEach(function(e){t.counterId===e.id&&(e.linked=!0)})}),e},availableContextFields:function(){var e=JSON.parse(c()(this.contextFields));return this.currentNode.contextFields.forEach(function(t){e.forEach(function(e){t.contextFieldId===e.id&&(e.linked=!0)})}),e}}),methods:v()({},Object(p.b)(["savePlantModelNode","editPlantModelNode","deletePlantModelNode","expandPlantModelNode"]),{addCounter:function(){this.currentNode.counters.push({counterId:void 0,tagAddress:""})},deleteCounter:function(e){this.currentNode.counters.splice(e,1)},addContextField:function(){this.currentNode.contextFields.push({contextFieldId:void 0,tagAddress:""})},deleteContextField:function(e){this.currentNode.contextFields.splice(e,1)},deepFirstSerializer:function(e,t,n,o,a){if(t[n]){var i=JSON.parse(c()(t[n]));i.path=a+" - "+i.name,i.dept=o,e.push(i),this.deepFirstSerializer(e,t[n].nodes,0,o+1,i.path),this.deepFirstSerializer(e,t,n+1,o,a)}},setCurrentNode:function(e){void 0===e?this.currentNode={id:-1,name:"",nodes:[],opcServer:"",state:"",counters:[],contextFields:[]}:(this.currentNode=JSON.parse(c()(e)),this.currentNode.askDeleteConfirmation=!1)},addNewNodeInLocation:function(e){this.currentNode={id:-1,name:"",nodes:[],location:e.id,opcServer:"",state:"",counters:[],contextFields:[]}},saveCurrentNode:function(){if(this.validateNode())if(-1===this.currentNode.id){var e=JSON.parse(c()(this.currentNode));e.id=Math.random(),this.savePlantModelNode(e)}else this.editPlantModelNode(JSON.parse(c()(this.currentNode))),this.currentNode=void 0},cancelCurrentNode:function(){this.currentNode=void 0},deleteCurrentNode:function(){this.currentNode.askDeleteConfirmation?(this.deletePlantModelNode(JSON.parse(c()(this.currentNode))),this.currentNode=void 0):(this.currentNode.askDeleteConfirmation=!0,this.$forceUpdate())},deleteNode:function(e){e.askDeleteConfirmation?this.deletePlantModelNode(JSON.parse(c()(e))):(e.askDeleteConfirmation=!0,this.$forceUpdate())},cancelNodeDeltion:function(e){e.askDeleteConfirmation=!1,this.$forceUpdate()},expand:function(e){this.expandPlantModelNode(JSON.parse(c()(e)))},validateNode:function(){var e=this,t="Fields ",n=!1;0===this.currentNode.name.length&&(t+="Name ",n=!0),0===this.currentNode.opcServer.length&&(t+="OPC server address ",n=!0),0===this.currentNode.state.length&&(t+="Tag address ",n=!0);var o=[];this.currentNode.counters.forEach(function(e,a){void 0===e.counterId?o.push(a):0===e.tagAddress.length&&(t+="Tag address ",n=!0)}),o.sort(function(e,t){return e<t}).forEach(function(t){e.currentNode.counters.splice(t,1)});var a=[];return this.currentNode.contextFields.forEach(function(e,o){void 0===e.contextFieldId?a.push(o):0===e.tagAddress.length&&(t+="Tag address ",n=!0)}),a.sort(function(e,t){return e<t}).forEach(function(t){e.currentNode.contextFields.splice(t,1)}),t+="are mandatory.",!n||(this.message=t,this.showMessage=!0,!1)}})},N={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"plant-model"},[n("el-dialog",{attrs:{title:"Error",visible:e.showMessage,width:"30%"},on:{"update:visible":function(t){e.showMessage=t}}},[n("span",[e._v(e._s(e.message))]),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showMessage=!1}}},[e._v("Ok")])],1)]),e._v(" "),n("div",{staticClass:"action-bar"},[e.currentNode?e._e():n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",plain:""},on:{click:function(){return e.setCurrentNode(void 0)}}},[e._v("Add node")])],1),e._v(" "),e.currentNode?n("div",{staticClass:"node-manipulation rounded",on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.saveCurrentNode(t):null}}},[n("div",{staticClass:"input-row col5050"},[n("el-input",{attrs:{placeholder:"Node name"},model:{value:e.currentNode.name,callback:function(t){e.$set(e.currentNode,"name",t)},expression:"currentNode.name"}},[n("template",{slot:"prepend"},[e._v("Node name")])],2)],1),e._v(" "),n("div",{staticClass:"input-row col5050"},[n("el-select",{staticClass:"full-width",attrs:{placeholder:"Location"},model:{value:e.currentNode.location,callback:function(t){e.$set(e.currentNode,"location",t)},expression:"currentNode.location"}},e._l(e.plantModelSerialized,function(t){return e.currentNode.id!==t.id?n("el-option",{key:t.id,attrs:{label:t.path,value:t.id}}):e._e()}))],1),e._v(" "),n("div",{staticClass:"clear"}),e._v(" "),n("div",{staticClass:"input-row"},[n("el-input",{attrs:{placeholder:"OPC server"},model:{value:e.currentNode.opcServer,callback:function(t){e.$set(e.currentNode,"opcServer",t)},expression:"currentNode.opcServer"}},[n("template",{slot:"prepend"},[e._v("OPC server address")])],2)],1),e._v(" "),n("div",{staticClass:"input-row col5050"},[n("el-input",{attrs:{placeholder:"State node",disabled:""}},[n("template",{slot:"prepend"},[e._v("State tag")])],2)],1),e._v(" "),n("div",{staticClass:"input-row col5050"},[n("el-input",{attrs:{placeholder:"State node address"},model:{value:e.currentNode.state,callback:function(t){e.$set(e.currentNode,"state",t)},expression:"currentNode.state"}},[n("template",{slot:"prepend"},[e._v("Tag address")])],2)],1),e._v(" "),n("div",{staticClass:"clear"}),e._v(" "),e._l(e.currentNode.counters,function(t,o){return n("div",{key:t.id},[n("div",{staticClass:"input-row col5050"},[n("el-button",{staticClass:"tag-delete-button",attrs:{type:"danger",icon:"el-icon-delete",plain:""},on:{click:function(){return e.deleteCounter(o)}}}),e._v(" "),n("el-select",{staticClass:"tag-dropdown-width",attrs:{placeholder:"Counter tag"},model:{value:t.counterId,callback:function(n){e.$set(t,"counterId",n)},expression:"c.counterId"}},e._l(e.availableCounters,function(o){return o.linked&&o.id!==t.counterId?e._e():n("el-option",{key:o.id,attrs:{label:o.name,value:o.id}})}))],1),e._v(" "),n("div",{staticClass:"input-row col5050"},[n("el-input",{attrs:{placeholder:"Tag address"},model:{value:t.tagAddress,callback:function(n){e.$set(t,"tagAddress",n)},expression:"c.tagAddress"}},[n("template",{slot:"prepend"},[e._v("Tag address")])],2)],1),e._v(" "),n("div",{staticClass:"clear"})])}),e._v(" "),n("div",{staticClass:"action-bar-middle"},[n("el-button",{staticClass:"full-width",attrs:{type:"primary",plain:""},on:{click:e.addCounter}},[e._v("Add counter")])],1),e._v(" "),e._l(e.currentNode.contextFields,function(t,o){return n("div",{key:t.id},[n("div",{staticClass:"input-row col5050"},[n("el-button",{staticClass:"tag-delete-button",attrs:{type:"danger",icon:"el-icon-delete",plain:""},on:{click:function(){return e.deleteContextField(o)}}}),e._v(" "),n("el-select",{staticClass:"tag-dropdown-width",attrs:{placeholder:"Context field tag"},model:{value:t.contextFieldId,callback:function(n){e.$set(t,"contextFieldId",n)},expression:"c.contextFieldId"}},e._l(e.availableContextFields,function(o){return o.linked&&o.id!==t.contextFieldId?e._e():n("el-option",{key:o.id,attrs:{label:o.name,value:o.id}})}))],1),e._v(" "),n("div",{staticClass:"input-row col5050"},[n("el-input",{attrs:{placeholder:"Tag address"},model:{value:t.tagAddress,callback:function(n){e.$set(t,"tagAddress",n)},expression:"c.tagAddress"}},[n("template",{slot:"prepend"},[e._v("Tag address")])],2)],1),e._v(" "),n("div",{staticClass:"clear"})])}),e._v(" "),n("div",{staticClass:"action-bar-middle"},[n("el-button",{staticClass:"full-width",attrs:{type:"primary",plain:""},on:{click:e.addContextField}},[e._v("Add context field")])],1),e._v(" "),n("div",{staticClass:"action-bar"},[n("el-button",{attrs:{type:"primary"},on:{click:e.saveCurrentNode}},[e._v(e._s(-1===e.currentNode.id?"Save":"Save changes"))]),e._v(" "),n("el-button",{attrs:{type:"danger",plain:""},on:{click:e.cancelCurrentNode}},[e._v("Cancel")]),e._v(" "),-1!==e.currentNode.id?n("el-button",{attrs:{type:"danger"},on:{click:e.deleteCurrentNode}},[e._v(e._s(e.currentNode.askDeleteConfirmation?e.Constants.view.deleteConfirmationMessageQuestion:"Delete"))]):e._e()],1)],2):e._e(),e._v(" "),n("div",{staticClass:"tree-container"},e._l(e.plantModelSerialized,function(t){return n("div",{key:t.id,staticClass:"tree-row pointer",class:{visible:t.visible,nonVisible:!t.visible},on:{click:function(){return e.expand(t)}}},[n("div",{staticClass:"col5050"},[e._l(t.dept,function(e){return n("span",{key:t.id+e,staticClass:"tree-indent-space"})}),e._v(" "),!t.expanded&&t.nodes.length>0?n("i",{staticClass:"el-icon-arrow-right"}):e._e(),e._v(" "),t.expanded&&t.nodes.length>0?n("i",{staticClass:"el-icon-arrow-down"}):e._e(),e._v(" "),0===t.nodes.length?n("span",{staticClass:"el-icon-caret-right"}):e._e(),e._v(" "),n("span",[e._v(e._s(t.name))])],2),e._v(" "),n("div",{staticClass:"col5050 action-bar-node"},[n("span",{staticClass:"cursor"},[n("el-button",{staticClass:"row-button",attrs:{plain:"",icon:"el-icon-edit",type:"primary"},on:{click:function(n){return n.stopPropagation(),e.setCurrentNode(t)}}},[e._v("Edit")])],1),e._v(" "),n("span",{staticClass:"cursor"},[n("el-button",{staticClass:"row-button",attrs:{plain:"",icon:"el-icon-plus",type:"primary"},on:{click:function(n){return n.stopPropagation(),e.addNewNodeInLocation(t)}}},[e._v("Add node here")])],1),e._v(" "),n("span",{staticClass:"cursor"},[n("el-button",{staticClass:"row-button",attrs:{plain:"",icon:"el-icon-close",type:"danger"},on:{click:function(n){return n.stopPropagation(),e.deleteNode(t)}}},[e._v(e._s(t.askDeleteConfirmation?e.Constants.view.deleteConfirmationMessageQuestion:"Delete"))])],1),e._v(" "),t.askDeleteConfirmation?n("span",{staticClass:"cursor"},[n("el-button",{staticClass:"row-button",attrs:{plain:"",type:"default"},on:{click:function(n){return n.stopPropagation(),e.cancelNodeDeltion(t)}}},[e._v("Cancel deletion")])],1):e._e()]),e._v(" "),n("div",{staticClass:"clear"})])}))],1)},staticRenderFns:[]};var h=n("VU/8")(m,N,!1,function(e){n("MkL/")},"data-v-30f75eb8",null).exports,C={name:"States",data:function(){return{currentNode:void 0,message:"",showMessage:!1,Constants:f}},computed:v()({},Object(p.c)(["states"])),methods:v()({},Object(p.b)(["saveState","editState","deleteState"]),{setCurrentNode:function(e){void 0===e?this.currentNode={id:-1,name:"",color:"#c0392b"}:(this.currentNode=JSON.parse(c()(e)),this.currentNode.askDeleteConfirmation=!1)},saveCurrentNode:function(){if(this.validateNode())if(-1===this.currentNode.id){var e=JSON.parse(c()(this.currentNode));e.id=Math.random(),this.saveState(e)}else this.editState(JSON.parse(c()(this.currentNode))),this.currentNode=void 0},cancelCurrentNode:function(){this.currentNode=void 0},deleteCurrentNode:function(){this.currentNode.askDeleteConfirmation?(this.deleteState(JSON.parse(c()(this.currentNode))),this.currentNode=void 0):(this.currentNode.askDeleteConfirmation=!0,this.$forceUpdate())},deleteNode:function(e){e.askDeleteConfirmation?this.deleteState(JSON.parse(c()(e))):(e.askDeleteConfirmation=!0,this.$forceUpdate())},cancelNodeDeltion:function(e){e.askDeleteConfirmation=!1,this.$forceUpdate()},validateNode:function(){var e="Fields ",t=!1;return 0===this.currentNode.name.length&&(e+="Name ",t=!0),null===this.currentNode.color&&(e+="Color ",t=!0),e+="are mandatory.",!t||(this.message=e,this.showMessage=!0,!1)}})},_={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"states"},[n("el-dialog",{attrs:{title:"Error",visible:e.showMessage,width:"30%"},on:{"update:visible":function(t){e.showMessage=t}}},[n("span",[e._v(e._s(e.message))]),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showMessage=!1}}},[e._v("Ok")])],1)]),e._v(" "),n("div",{staticClass:"action-bar"},[e.currentNode?e._e():n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",plain:""},on:{click:function(){return e.setCurrentNode(void 0)}}},[e._v("Add state")])],1),e._v(" "),e.currentNode?n("div",{staticClass:"node-manipulation rounded",on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.saveCurrentNode(t):null}}},[n("div",{staticClass:"input-row col5050"},[n("el-input",{attrs:{placeholder:"State name"},model:{value:e.currentNode.name,callback:function(t){e.$set(e.currentNode,"name",t)},expression:"currentNode.name"}},[n("template",{slot:"prepend"},[e._v("State name")])],2)],1),e._v(" "),n("div",{staticClass:"input-row col5050"},[n("div",{staticClass:"el-input el-input-group el-input-group--prepend"},[n("div",{staticClass:"el-input-group__prepend"},[e._v("Color")]),e._v(" "),n("el-color-picker",{staticClass:"color-picker",on:{"active-change":function(t){return e.currentNode.color=t}},model:{value:e.currentNode.color,callback:function(t){e.$set(e.currentNode,"color",t)},expression:"currentNode.color"}})],1)]),e._v(" "),n("div",{staticClass:"clear"}),e._v(" "),n("div",{staticClass:"action-bar"},[n("el-button",{attrs:{type:"primary"},on:{click:e.saveCurrentNode}},[e._v(e._s(-1===e.currentNode.id?"Save":"Save changes"))]),e._v(" "),n("el-button",{attrs:{type:"danger",plain:""},on:{click:e.cancelCurrentNode}},[e._v("Cancel")]),e._v(" "),-1!==e.currentNode.id?n("el-button",{attrs:{type:"danger"},on:{click:e.deleteCurrentNode}},[e._v(e._s(e.currentNode.askDeleteConfirmation?e.Constants.view.deleteConfirmationMessageQuestion:"Delete"))]):e._e()],1)]):e._e(),e._v(" "),n("div",{staticClass:"list-container"},e._l(e.states,function(t){return n("div",{key:t.id,staticClass:"list-row pointer"},[n("div",{staticClass:"col5050"},[n("span",{staticClass:"color-display",style:{"background-color":t.color}},[e._v(" ")]),n("span",[e._v(e._s(t.name))])]),e._v(" "),n("div",{staticClass:"col5050 action-bar-node"},[n("span",{staticClass:"cursor"},[n("el-button",{staticClass:"row-button",attrs:{plain:"",icon:"el-icon-edit",type:"primary"},on:{click:function(n){return n.stopPropagation(),e.setCurrentNode(t)}}},[e._v("Edit")])],1),e._v(" "),n("span",{staticClass:"cursor"},[n("el-button",{staticClass:"row-button",attrs:{plain:"",icon:"el-icon-close",type:"danger"},on:{click:function(n){return n.stopPropagation(),e.deleteNode(t)}}},[e._v(e._s(t.askDeleteConfirmation?e.Constants.view.deleteConfirmationMessageQuestion:"Delete"))])],1),e._v(" "),t.askDeleteConfirmation?n("span",{staticClass:"cursor"},[n("el-button",{staticClass:"row-button",attrs:{plain:"",type:"default"},on:{click:function(n){return n.stopPropagation(),e.cancelNodeDeltion(t)}}},[e._v("Cancel deletion")])],1):e._e()]),e._v(" "),n("div",{staticClass:"clear"})])}))],1)},staticRenderFns:[]};var g=n("VU/8")(C,_,!1,function(e){n("uGbT")},"data-v-5fb07fa6",null).exports,b={name:"Counters",data:function(){return{currentNode:void 0,message:"",showMessage:!1,Constants:f}},computed:v()({},Object(p.c)(["counters","magnitudes"])),methods:v()({},Object(p.b)(["saveCounter","editCounter","deleteCounter"]),{setCurrentNode:function(e){void 0===e?this.currentNode={id:-1,name:"",threshold:"0",uom:""}:(this.currentNode=JSON.parse(c()(e)),this.currentNode.askDeleteConfirmation=!1)},saveCurrentNode:function(){if(this.validateNode())if(-1===this.currentNode.id){var e=JSON.parse(c()(this.currentNode));e.id=Math.random(),this.saveCounter(e)}else this.editCounter(JSON.parse(c()(this.currentNode))),this.currentNode=void 0},cancelCurrentNode:function(){this.currentNode=void 0},deleteCurrentNode:function(){this.currentNode.askDeleteConfirmation?(this.deleteCounter(JSON.parse(c()(this.currentNode))),this.currentNode=void 0):(this.currentNode.askDeleteConfirmation=!0,this.$forceUpdate())},deleteNode:function(e){e.askDeleteConfirmation?this.deleteCounter(JSON.parse(c()(e))):(e.askDeleteConfirmation=!0,this.$forceUpdate())},cancelNodeDeltion:function(e){e.askDeleteConfirmation=!1,this.$forceUpdate()},validateNode:function(){var e="Fields ",t=!1;return 0===this.currentNode.name.length&&(e+="Name ",t=!0),0===this.currentNode.threshold&&(e+="Threshold ",t=!0),e+="are mandatory.",!t||(this.message=e,this.showMessage=!0,!1)}})},k={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"counters"},[n("el-dialog",{attrs:{title:"Error",visible:e.showMessage,width:"30%"},on:{"update:visible":function(t){e.showMessage=t}}},[n("span",[e._v(e._s(e.message))]),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showMessage=!1}}},[e._v("Ok")])],1)]),e._v(" "),n("div",{staticClass:"action-bar"},[e.currentNode?e._e():n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",plain:""},on:{click:function(){return e.setCurrentNode(void 0)}}},[e._v("Add counter")])],1),e._v(" "),e.currentNode?n("div",{staticClass:"node-manipulation rounded",on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.saveCurrentNode(t):null}}},[n("div",{staticClass:"input-row col5050"},[n("el-input",{attrs:{placeholder:"Counter name"},model:{value:e.currentNode.name,callback:function(t){e.$set(e.currentNode,"name",t)},expression:"currentNode.name"}},[n("template",{slot:"prepend"},[e._v("Counter name")])],2)],1),e._v(" "),n("div",{staticClass:"input-row col5050"},[n("el-input",{attrs:{placeholder:"Reset threshold"},model:{value:e.currentNode.threshold,callback:function(t){e.$set(e.currentNode,"threshold",t)},expression:"currentNode.threshold"}},[n("template",{slot:"prepend"},[e._v("Threshold")])],2)],1),e._v(" "),n("div",{staticClass:"input-row col5050"},[n("el-input",{attrs:{placeholder:"Unit of measure"},model:{value:e.currentNode.uom,callback:function(t){e.$set(e.currentNode,"uom",t)},expression:"currentNode.uom"}},[n("template",{slot:"prepend"},[e._v("Unit of measure")])],2)],1),e._v(" "),n("div",{staticClass:"input-row col5050"},[n("el-select",{staticClass:"full-width",attrs:{placeholder:"Magnitude"},model:{value:e.currentNode.magnitude,callback:function(t){e.$set(e.currentNode,"magnitude",t)},expression:"currentNode.magnitude"}},e._l(e.magnitudes,function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),n("div",{staticClass:"clear"}),e._v(" "),n("div",{staticClass:"action-bar"},[n("el-button",{attrs:{type:"primary"},on:{click:e.saveCurrentNode}},[e._v(e._s(-1===e.currentNode.id?"Save":"Save changes"))]),e._v(" "),n("el-button",{attrs:{type:"danger",plain:""},on:{click:e.cancelCurrentNode}},[e._v("Cancel")]),e._v(" "),-1!==e.currentNode.id?n("el-button",{attrs:{type:"danger"},on:{click:e.deleteCurrentNode}},[e._v(e._s(e.currentNode.askDeleteConfirmation?e.Constants.view.deleteConfirmationMessageQuestion:"Delete"))]):e._e()],1)]):e._e(),e._v(" "),n("div",{staticClass:"list-container"},e._l(e.counters,function(t){return n("div",{key:t.id,staticClass:"list-row pointer"},[n("div",{staticClass:"col5050"},[n("span",[e._v(e._s(t.name))])]),e._v(" "),n("div",{staticClass:"col5050 action-bar-node"},[n("span",{staticClass:"cursor"},[n("el-button",{staticClass:"row-button",attrs:{plain:"",icon:"el-icon-edit",type:"primary"},on:{click:function(n){return n.stopPropagation(),e.setCurrentNode(t)}}},[e._v("Edit")])],1),e._v(" "),n("span",{staticClass:"cursor"},[n("el-button",{staticClass:"row-button",attrs:{plain:"",icon:"el-icon-close",type:"danger"},on:{click:function(n){return n.stopPropagation(),e.deleteNode(t)}}},[e._v(e._s(t.askDeleteConfirmation?e.Constants.view.deleteConfirmationMessageQuestion:"Delete"))])],1),e._v(" "),t.askDeleteConfirmation?n("span",{staticClass:"cursor"},[n("el-button",{staticClass:"row-button",attrs:{plain:"",type:"default"},on:{click:function(n){return n.stopPropagation(),e.cancelNodeDeltion(t)}}},[e._v("Cancel deletion")])],1):e._e()]),e._v(" "),n("div",{staticClass:"clear"})])}))],1)},staticRenderFns:[]};var M=n("VU/8")(b,k,!1,function(e){n("98zC")},"data-v-629de390",null).exports,x={name:"ContextFields",data:function(){return{currentNode:void 0,message:"",showMessage:!1,Constants:f}},computed:v()({},Object(p.c)(["contextFields","magnitudes"])),methods:v()({},Object(p.b)(["saveContextField","editContextField","deleteContextField"]),{setCurrentNode:function(e){void 0===e?this.currentNode={id:-1,name:"",uom:"",magnitude:void 0}:(this.currentNode=JSON.parse(c()(e)),this.currentNode.askDeleteConfirmation=!1)},saveCurrentNode:function(){if(this.validateNode())if(-1===this.currentNode.id){var e=JSON.parse(c()(this.currentNode));e.id=Math.random(),this.saveContextField(e)}else this.editContextField(JSON.parse(c()(this.currentNode))),this.currentNode=void 0},cancelCurrentNode:function(){this.currentNode=void 0},deleteCurrentNode:function(){this.currentNode.askDeleteConfirmation?(this.deleteContextField(JSON.parse(c()(this.currentNode))),this.currentNode=void 0):(this.currentNode.askDeleteConfirmation=!0,this.$forceUpdate())},deleteNode:function(e){e.askDeleteConfirmation?this.deleteContextField(JSON.parse(c()(e))):(e.askDeleteConfirmation=!0,this.$forceUpdate())},cancelNodeDeltion:function(e){e.askDeleteConfirmation=!1,this.$forceUpdate()},validateNode:function(){var e="Fields ",t=!1;return 0===this.currentNode.name.length&&(e+="Name ",t=!0),e+="are mandatory.",!t||(this.message=e,this.showMessage=!0,!1)}})},y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"context-fields"},[n("el-dialog",{attrs:{title:"Error",visible:e.showMessage,width:"30%"},on:{"update:visible":function(t){e.showMessage=t}}},[n("span",[e._v(e._s(e.message))]),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showMessage=!1}}},[e._v("Ok")])],1)]),e._v(" "),n("div",{staticClass:"action-bar"},[e.currentNode?e._e():n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",plain:""},on:{click:function(){return e.setCurrentNode(void 0)}}},[e._v("Add context field")])],1),e._v(" "),e.currentNode?n("div",{staticClass:"node-manipulation rounded",on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.saveCurrentNode(t):null}}},[n("div",{staticClass:"input-row col5050"},[n("el-input",{attrs:{placeholder:"Context field name"},model:{value:e.currentNode.name,callback:function(t){e.$set(e.currentNode,"name",t)},expression:"currentNode.name"}},[n("template",{slot:"prepend"},[e._v("Context field name")])],2)],1),e._v(" "),n("div",{staticClass:"input-row col5050"},[n("el-input",{attrs:{placeholder:"Default value"},model:{value:e.currentNode.defaultValue,callback:function(t){e.$set(e.currentNode,"defaultValue",t)},expression:"currentNode.defaultValue"}},[n("template",{slot:"prepend"},[e._v("Default value")])],2)],1),e._v(" "),n("div",{staticClass:"input-row col5050"},[n("el-input",{attrs:{placeholder:"Unit of measure"},model:{value:e.currentNode.uom,callback:function(t){e.$set(e.currentNode,"uom",t)},expression:"currentNode.uom"}},[n("template",{slot:"prepend"},[e._v("Unit of measure")])],2)],1),e._v(" "),n("div",{staticClass:"input-row col5050"},[n("el-select",{staticClass:"full-width",attrs:{placeholder:"Magnitude"},model:{value:e.currentNode.magnitude,callback:function(t){e.$set(e.currentNode,"magnitude",t)},expression:"currentNode.magnitude"}},e._l(e.magnitudes,function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),n("div",{staticClass:"clear"}),e._v(" "),n("div",{staticClass:"action-bar"},[n("el-button",{attrs:{type:"primary"},on:{click:e.saveCurrentNode}},[e._v(e._s(-1===e.currentNode.id?"Save":"Save changes"))]),e._v(" "),n("el-button",{attrs:{type:"danger",plain:""},on:{click:e.cancelCurrentNode}},[e._v("Cancel")]),e._v(" "),-1!==e.currentNode.id?n("el-button",{attrs:{type:"danger"},on:{click:e.deleteCurrentNode}},[e._v(e._s(e.currentNode.askDeleteConfirmation?e.Constants.view.deleteConfirmationMessageQuestion:"Delete"))]):e._e()],1)]):e._e(),e._v(" "),n("div",{staticClass:"list-container"},e._l(e.contextFields,function(t){return n("div",{key:t.id,staticClass:"list-row pointer"},[n("div",{staticClass:"col5050"},[n("span",[e._v(e._s(t.name))])]),e._v(" "),n("div",{staticClass:"col5050 action-bar-node"},[n("span",{staticClass:"cursor"},[n("el-button",{staticClass:"row-button",attrs:{plain:"",icon:"el-icon-edit",type:"primary"},on:{click:function(n){return n.stopPropagation(),e.setCurrentNode(t)}}},[e._v("Edit")])],1),e._v(" "),n("span",{staticClass:"cursor"},[n("el-button",{staticClass:"row-button",attrs:{plain:"",icon:"el-icon-close",type:"danger"},on:{click:function(n){return n.stopPropagation(),e.deleteNode(t)}}},[e._v(e._s(t.askDeleteConfirmation?e.Constants.view.deleteConfirmationMessageQuestion:"Delete"))])],1),e._v(" "),t.askDeleteConfirmation?n("span",{staticClass:"cursor"},[n("el-button",{staticClass:"row-button",attrs:{plain:"",type:"default"},on:{click:function(n){return n.stopPropagation(),e.cancelNodeDeltion(t)}}},[e._v("Cancel deletion")])],1):e._e()]),e._v(" "),n("div",{staticClass:"clear"})])}))],1)},staticRenderFns:[]};var w=n("VU/8")(x,y,!1,function(e){n("Rftg")},"data-v-67f4c7d0",null).exports,S={name:"TimeModel",data:function(){return{currentNode:void 0,message:"",showMessage:!1,Constants:f}},computed:v()({},Object(p.c)(["timeModel"]),{timeModelSerialized:function(){var e=JSON.parse(c()(this.timeModel));e.siblings=[];var t=[e];return this.traverseFirstChildSerializer(t,e.nodes,100),t}}),methods:v()({},Object(p.b)(["editTimeModelNode","saveTimeModelNode","deleteTimeModelNode"]),{traverseFirstChildSerializer:function(e,t,n){if(t[0]){var o=JSON.parse(c()(t[0]));o.siblings=[],t.forEach(function(e){e.id!==o.id&&o.siblings.push(e)}),o.siblings.length>0?(o.width=.8*n,o.siblingsWidth=.2*n):(o.width=n,o.siblingsWidth=0),e.push(o),this.traverseFirstChildSerializer(e,o.nodes,o.width)}},setCurrentNode:function(e){void 0===e?this.currentNode={id:-1,name:"",color:"#16A085",nodes:[]}:(this.currentNode=JSON.parse(c()(e)),this.currentNode.askDeleteConfirmation=!1)},addNewNodeInLocation:function(e){this.currentNode={id:-1,name:"",nodes:[],color:"#16A085",location:e.id}},saveCurrentNode:function(){if(this.validateNode())if(-1===this.currentNode.id){var e=JSON.parse(c()(this.currentNode));e.id=Math.random(),void 0===e.location&&(e.location=this.timeModelSerialized[this.timeModelSerialized.length-1].id),this.saveTimeModelNode(e)}else this.editTimeModelNode(JSON.parse(c()(this.currentNode))),this.currentNode=void 0},cancelCurrentNode:function(){this.currentNode=void 0},deleteCurrentNode:function(){this.currentNode.askDeleteConfirmation?(this.deleteTimeModelNode(JSON.parse(c()(this.currentNode))),this.currentNode=void 0):(this.currentNode.askDeleteConfirmation=!0,this.$forceUpdate())},deleteNode:function(e){e.askDeleteConfirmation?this.deleteTimeModelNode(JSON.parse(c()(e))):(e.askDeleteConfirmation=!0,this.$forceUpdate())},cancelNodeDeltion:function(e){e.askDeleteConfirmation=!1,this.$forceUpdate()},validateNode:function(){var e="Fields ",t=!1;return 0===this.currentNode.name.length&&(e+="Name ",t=!0),e+="are mandatory.",!t||(this.message=e,this.showMessage=!0,!1)}})},F={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"time-model"},[n("el-dialog",{attrs:{title:"Error",visible:e.showMessage,width:"30%"},on:{"update:visible":function(t){e.showMessage=t}}},[n("span",[e._v(e._s(e.message))]),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showMessage=!1}}},[e._v("Ok")])],1)]),e._v(" "),n("div",{staticClass:"action-bar"},[e.currentNode?e._e():n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",plain:""},on:{click:function(){return e.setCurrentNode(void 0)}}},[e._v("Add time slot")])],1),e._v(" "),e.currentNode?n("div",{staticClass:"node-manipulation rounded",on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.saveCurrentNode(t):null}}},[n("div",{staticClass:"input-row col5050"},[n("el-input",{attrs:{placeholder:"Time slot name"},model:{value:e.currentNode.name,callback:function(t){e.$set(e.currentNode,"name",t)},expression:"currentNode.name"}},[n("template",{slot:"prepend"},[e._v("Time slot name")])],2)],1),e._v(" "),n("div",{staticClass:"input-row col5050"},[n("el-select",{staticClass:"full-width",attrs:{placeholder:"Location",disabled:e.currentNode.nodes.length>0},model:{value:e.currentNode.location,callback:function(t){e.$set(e.currentNode,"location",t)},expression:"currentNode.location"}},e._l(e.timeModelSerialized,function(t){return e.currentNode.id!==t.id?n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}}):e._e()}))],1),e._v(" "),n("div",{staticClass:"input-row col5050"},[n("div",{staticClass:"el-input el-input-group el-input-group--prepend"},[n("div",{staticClass:"el-input-group__prepend"},[e._v("Color")]),e._v(" "),n("el-color-picker",{staticClass:"color-picker",on:{"active-change":function(t){return e.currentNode.color=t}},model:{value:e.currentNode.color,callback:function(t){e.$set(e.currentNode,"color",t)},expression:"currentNode.color"}})],1)]),e._v(" "),n("div",{staticClass:"clear"}),e._v(" "),n("div",{staticClass:"action-bar"},[n("el-button",{attrs:{type:"primary"},on:{click:e.saveCurrentNode}},[e._v(e._s(-1===e.currentNode.id?"Save":"Save changes"))]),e._v(" "),n("el-button",{attrs:{type:"danger",plain:""},on:{click:e.cancelCurrentNode}},[e._v("Cancel")]),e._v(" "),-1!==e.currentNode.id?n("el-button",{attrs:{type:"danger"},on:{click:e.deleteCurrentNode}},[e._v(e._s(e.currentNode.askDeleteConfirmation?e.Constants.view.deleteConfirmationMessageQuestion:"Delete"))]):e._e()],1)]):e._e(),e._v(" "),n("div",{staticClass:"tree-container"},e._l(e.timeModelSerialized,function(t){return n("div",{key:t.id},[n("div",{staticClass:"time-model-node pointer align-center",style:{"background-color":t.color,float:t.siblings.length>0?"left":"none",width:"calc("+t.width+"% - 10px)"},on:{click:function(){return e.setCurrentNode(t)}}},[n("span",[e._v(e._s(t.name))])]),e._v(" "),e._l(t.siblings,function(o){return n("div",{key:o.id,staticClass:"time-model-node pointer align-center",style:{"background-color":o.color,float:"left",width:"calc("+t.siblingsWidth/t.siblings.length+"% - 10px)"},on:{click:function(){return e.setCurrentNode(o)}}},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:o.name,placement:"top"}},[n("span",[e._v(e._s(o.name))])])],1)}),e._v(" "),n("div",{staticClass:"clear"})],2)}))],1)},staticRenderFns:[]};var T=n("VU/8")(S,F,!1,function(e){n("Kva9")},"data-v-11ed1062",null).exports,D={name:"ReasonTree",data:function(){return{currentNode:void 0,message:"",showMessage:!1,Constants:f}},computed:v()({},Object(p.c)(["reasonTree","states"]),{reasonTreeSerialized:function(){var e=JSON.parse(c()(this.reasonTree));e.path=e.name,e.visible=!0,e.expanded=!0;var t=[e];return this.deepFirstSerializer(t,this.reasonTree.nodes,0,1,e.name),t},notLinkedStates:function(){var e=this;return this.states.forEach(function(e){e.linked=!1}),this.states.forEach(function(t){e.reasonTreeSerialized.forEach(function(e){e.stateId===t.id&&(t.linked=!0)}),t.id===e.currentNode.stateId&&(t.linked=!1)}),this.states}}),methods:v()({},Object(p.b)(["saveReasonTreeNode","editReasonTreeNode","deleteReasonTreeNode","expandReasonTreeNode"]),{deepFirstSerializer:function(e,t,n,o,a){if(t[n]){var i=JSON.parse(c()(t[n]));i.path=a+" - "+i.name,i.dept=o,i.timeModelNodeId&&(i.visible=!0),e.push(i),this.deepFirstSerializer(e,t[n].nodes,0,o+1,i.path),this.deepFirstSerializer(e,t,n+1,o,a)}},setCurrentNode:function(e){void 0===e?this.currentNode={id:-1,stateId:void 0,location:void 0,nodes:[]}:(this.currentNode=JSON.parse(c()(e)),this.currentNode.askDeleteConfirmation=!1)},addNewNodeInLocation:function(e){this.currentNode={id:-1,stateId:void 0,nodes:[],location:e.id}},saveCurrentNode:function(){if(this.validateNode())if(-1===this.currentNode.id){var e=JSON.parse(c()(this.currentNode));e.id=Math.random(),this.saveReasonTreeNode(e),this.currentNode.stateId=void 0}else this.editReasonTreeNode(JSON.parse(c()(this.currentNode))),this.currentNode=void 0},cancelCurrentNode:function(){this.currentNode=void 0},deleteCurrentNode:function(){this.currentNode.askDeleteConfirmation?(this.deleteReasonTreeNode(JSON.parse(c()(this.currentNode))),this.currentNode=void 0):(this.currentNode.askDeleteConfirmation=!0,this.$forceUpdate())},deleteNode:function(e){e.askDeleteConfirmation?this.deleteReasonTreeNode(JSON.parse(c()(e))):(e.askDeleteConfirmation=!0,this.$forceUpdate())},cancelNodeDeltion:function(e){e.askDeleteConfirmation=!1,this.$forceUpdate()},expand:function(e){this.expandReasonTreeNode(JSON.parse(c()(e)))},validateNode:function(){var e="Fields ",t=!1;return void 0===this.currentNode.stateId&&(e+="State ",t=!0),void 0===this.currentNode.location&&(e+="Location ",t=!0),e+="are mandatory.",!t||(this.message=e,this.showMessage=!0,!1)}})},O={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"reason-tree"},[n("el-dialog",{attrs:{title:"Error",visible:e.showMessage,width:"30%"},on:{"update:visible":function(t){e.showMessage=t}}},[n("span",[e._v(e._s(e.message))]),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showMessage=!1}}},[e._v("Ok")])],1)]),e._v(" "),n("div",{staticClass:"action-bar"},[e.currentNode?e._e():n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",plain:""},on:{click:function(){return e.setCurrentNode(void 0)}}},[e._v("Add state to reason tree")])],1),e._v(" "),e.currentNode?n("div",{staticClass:"node-manipulation rounded",on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.saveCurrentNode(t):null}}},[n("div",{staticClass:"input-row col5050"},[n("el-select",{staticClass:"full-width",attrs:{placeholder:"State"},model:{value:e.currentNode.stateId,callback:function(t){e.$set(e.currentNode,"stateId",t)},expression:"currentNode.stateId"}},e._l(e.notLinkedStates,function(t){return t.linked?e._e():n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),e._v(" "),n("div",{staticClass:"input-row col5050"},[n("el-select",{staticClass:"full-width",attrs:{placeholder:"Location"},model:{value:e.currentNode.location,callback:function(t){e.$set(e.currentNode,"location",t)},expression:"currentNode.location"}},e._l(e.reasonTreeSerialized,function(t,o){return e.currentNode.id!==t.id&&0!==o?n("el-option",{key:t.id,attrs:{label:t.path,value:t.id}}):e._e()}))],1),e._v(" "),n("div",{staticClass:"clear"}),e._v(" "),n("div",{staticClass:"action-bar"},[n("el-button",{attrs:{type:"primary"},on:{click:e.saveCurrentNode}},[e._v(e._s(-1===e.currentNode.id?"Save":"Save changes"))]),e._v(" "),n("el-button",{attrs:{type:"danger",plain:""},on:{click:e.cancelCurrentNode}},[e._v("Cancel")]),e._v(" "),-1!==e.currentNode.id?n("el-button",{attrs:{type:"danger"},on:{click:e.deleteCurrentNode}},[e._v(e._s(e.currentNode.askDeleteConfirmation?e.Constants.view.deleteConfirmationMessageQuestion:"Delete"))]):e._e()],1)]):e._e(),e._v(" "),n("div",{staticClass:"tree-container"},e._l(e.reasonTreeSerialized,function(t,o){return n("div",{key:t.id,staticClass:"tree-row pointer",class:{visible:t.visible,nonVisible:!t.visible},on:{click:function(){return e.expand(t)}}},[n("div",{staticClass:"col5050"},[e._l(t.dept,function(e){return n("span",{key:t.id+e,staticClass:"tree-indent-space"})}),e._v(" "),!t.expanded&&t.nodes.length>0?n("i",{staticClass:"el-icon-arrow-right"}):e._e(),e._v(" "),t.expanded&&t.nodes.length>0?n("i",{staticClass:"el-icon-arrow-down"}):e._e(),e._v(" "),0===t.nodes.length?n("span",{staticClass:"el-icon-caret-right"}):e._e(),e._v(" "),o>0?n("span",{staticClass:"color-display",style:{"background-color":t.color}},[e._v(" ")]):e._e(),e._v(" "),n("span",[e._v(e._s(t.name))])],2),e._v(" "),o>0?n("div",{staticClass:"col5050 action-bar-node"},[void 0!==t.stateId?n("span",{staticClass:"cursor"},[n("el-button",{staticClass:"row-button",attrs:{plain:"",icon:"el-icon-edit",type:"primary"},on:{click:function(n){return n.stopPropagation(),e.setCurrentNode(t)}}},[e._v("Edit")])],1):e._e(),e._v(" "),n("span",{staticClass:"cursor"},[n("el-button",{staticClass:"row-button",attrs:{plain:"",icon:"el-icon-plus",type:"primary"},on:{click:function(n){return n.stopPropagation(),e.addNewNodeInLocation(t)}}},[e._v("Add node here")])],1),e._v(" "),void 0!==t.stateId?n("span",{staticClass:"cursor"},[n("el-button",{staticClass:"row-button",attrs:{plain:"",icon:"el-icon-close",type:"danger"},on:{click:function(n){return n.stopPropagation(),e.deleteNode(t)}}},[e._v(e._s(t.askDeleteConfirmation?e.Constants.view.deleteConfirmationMessageQuestion:"Delete"))])],1):e._e(),e._v(" "),t.askDeleteConfirmation?n("span",{staticClass:"cursor"},[n("el-button",{staticClass:"row-button",attrs:{plain:"",type:"default"},on:{click:function(n){return n.stopPropagation(),e.cancelNodeDeltion(t)}}},[e._v("Cancel deletion")])],1):e._e()]):e._e(),e._v(" "),n("div",{staticClass:"clear"})])}))],1)},staticRenderFns:[]};var P=n("VU/8")(D,O,!1,function(e){n("eoT/")},"data-v-1130dd28",null).exports;o.default.use(d.a);var E=new d.a({mode:"history",routes:[{path:"/",name:"PlantModel",component:h},{path:"/plant-model",name:"PlantModel",component:h},{path:"/states",name:"States",component:g},{path:"/counters",name:"Counters",component:M},{path:"/context-fields",name:"ContextFields",component:w},{path:"/time-model",name:"TimeModel",component:T},{path:"/reason-tree",name:"ReasonTree",component:P}]}),I={findNode:function(e,t,n){var o=this,a={parent:e,currentNode:t,found:!1};if(t.id===n.id)return a.found=!0,a;var i=[];return t.nodes.forEach(function(e){i.push(o.findNode(t,e,n))}),i.forEach(function(e){e.found&&(a=e)}),a},traverseAssignCollapse:function(e){var t=this;e&&(o.default.set(e,"visible",!1),o.default.set(e,"expanded",!1),e.nodes.forEach(function(e){t.traverseAssignCollapse(e)}))},traverseAssignExpand:function(e){var t=this;e&&(o.default.set(e,"expanded",!0),o.default.set(e,"visible",!0),e.nodes.forEach(function(e){t.traverseAssignExpand(e)}))},findElementInListById:function(e,t){var n=void 0;return e.forEach(function(e){e.id===t.id&&(n=e)}),n},mergeStatesAndTimeModel:function(e,t,n){var o=this;if(void 0!==n.timeModelNodeId){var a=this.findNode(e,e,{id:n.timeModelNodeId});n.name=a.currentNode.name,n.color=a.currentNode.color}void 0!==n.stateId&&t.forEach(function(e){n.stateId===e.id&&(n.name=e.name,n.color=e.color)}),n.nodes.forEach(function(n){o.mergeStatesAndTimeModel(e,t,n)})}};o.default.use(p.a);var L=new p.a.Store({strict:!0,state:{plantModel:{name:"Rims factory plant",id:1,opcServer:"",state:"",counters:[],contextFields:[],expanded:!0,visible:!0,nodes:[{name:"Receiving Area",id:2,opcServer:"",state:"",counters:[],contextFields:[],visible:!0,nodes:[{name:"Line 1",id:23,nodes:[{name:"Conveyor 1",id:3,nodes:[],opcServer:"",state:"",counters:[],contextFields:[]},{name:"Conveyor 2",id:27,nodes:[],opcServer:"",state:"",counters:[],contextFields:[]}],opcServer:"",state:"",counters:[],contextFields:[]},{name:"Line 2",id:24,nodes:[{name:"Conveyor 1",id:25,nodes:[],opcServer:"",state:"",counters:[],contextFields:[]},{name:"Conveyor 2",id:26,nodes:[],opcServer:"",state:"",counters:[],contextFields:[]}],opcServer:"",state:"",counters:[],contextFields:[]}]},{name:"Smelting and Holding Area",id:4,opcServer:"",state:"",counters:[],contextFields:[],visible:!0,nodes:[{name:"Line 1",id:5,opcServer:"",state:"",counters:[],contextFields:[],nodes:[{name:"Smelting tower",id:7,opcServer:"",state:"",counters:[],contextFields:[],nodes:[]},{name:"Vortex furnace",id:8,opcServer:"",state:"",counters:[],contextFields:[],nodes:[]},{name:"Reverberatory holding furnace",id:9,opcServer:"",state:"",counters:[],contextFields:[],nodes:[]},{name:"Low-pressure casting machine",id:10,opcServer:"",state:"",counters:[],contextFields:[],nodes:[]},{name:"Continuous roller",id:11,opcServer:"",state:"",counters:[],contextFields:[],nodes:[]}]}]}]},states:[{id:4,name:"Electrical ",color:"#2c3e50"},{id:3,name:"Broken belt",color:"#8e44ad"},{id:2,name:"Generic electrical stop",color:"#d35400"},{id:0,name:"Unplanned maintenance",color:"#c0392b"},{id:1,name:"Running",color:"#27ae60"}],counters:[{id:0,name:"Good",threshold:"1000000",uom:"Unit",magnitude:"1"},{id:1,name:"Bad",threshold:"1000000",uom:"Unit",magnitude:"1"}],contextFields:[{id:0,name:"Shift",uom:"",magnitude:void 0,defaultValue:void 0},{id:1,name:"TargetSpeed",uom:"Unit",magnitude:10,defaultValue:void 0},{id:2,name:"Temperature",uom:"Celsius",magnitude:1,defaultValue:void 0},{id:3,name:"Pressure",uom:"Bar",magnitude:1,defaultValue:void 0},{id:4,name:"Material",uom:"",magnitude:void 0,defaultValue:void 0}],timeModel:{id:0,name:"Total time available",color:"#f5f5f5",nodes:[{id:1,name:"Scheduled time",color:"#eff6fd",nodes:[{id:4,name:"Operating time",color:"#ffe3b1",nodes:[{id:7,name:"Net operating time",color:"#f8c5cd",nodes:[{id:11,name:"Run time",color:"#d0f9f1",nodes:[]},{id:10,name:"Quality loss",color:"#aef4e6",nodes:[]}]},{id:8,name:"Performance loss",color:"#f5aeb9",nodes:[]}]},{id:5,name:"Change over",color:"#ffd589",nodes:[]},{id:6,name:"Unplanned downtime",color:"#ffc04e",nodes:[]}]},{id:2,name:"Planned downtime",color:"#d8e9fa",nodes:[]},{id:3,name:"Input output downtime",color:"#bed0e9",nodes:[]}]},reasonTree:{id:0,name:"Reason tree",nodes:[{id:1,timeModelNodeId:2,nodes:[{id:22,stateId:1,nodes:[]}]},{id:2,timeModelNodeId:3,nodes:[]},{id:3,timeModelNodeId:5,nodes:[]},{id:4,timeModelNodeId:6,nodes:[]},{id:5,timeModelNodeId:8,nodes:[]},{id:6,timeModelNodeId:10,nodes:[]}]},magnitudes:[1e-6,1e-5,1e-4,.001,.01,.1,1,10,100,1e3,1e4,1e5,1e6]},getters:{plantModel:function(e){return e.plantModel},states:function(e){var t=JSON.parse(c()(e.states)).sort(function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()});return t},counters:function(e){var t=JSON.parse(c()(e.counters)).sort(function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()});return t},contextFields:function(e){var t=JSON.parse(c()(e.contextFields)).sort(function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()});return t},timeModel:function(e){return e.timeModel},reasonTree:function(e){return I.mergeStatesAndTimeModel(e.timeModel,e.states,e.reasonTree),e.reasonTree},magnitudes:function(e){return e.magnitudes}},mutations:{savePlantModelNode:function(e,t){void 0===t.node.location||void 0===t.nextParentNodeLocation?e.plantModel.nodes.push(t.node):t.nextParentNodeLocation.currentNode.nodes.push(t.node),I.traverseAssignExpand(e.plantModel)},deletePlantModelNode:function(e,t){var n=0;t.parent.nodes.forEach(function(e){e.id===t.currentNode.id&&t.parent.nodes.splice(n,1),n+=1})},editPlantModelNode:function(e,t){t.nodeLocation.currentNode.name=t.updatedNode.name,t.nodeLocation.currentNode.opcServer=t.updatedNode.opcServer,t.nodeLocation.currentNode.state=t.updatedNode.state,t.nodeLocation.currentNode.counters=t.updatedNode.counters,t.nodeLocation.currentNode.contextFields=t.updatedNode.contextFields},expandPlantModelNode:function(e,t){0!==t.currentNode.nodes.length&&(void 0===t.currentNode.nodes[0].visible||!1===t.currentNode.nodes[0].visible?(o.default.set(t.currentNode,"expanded",!0),t.currentNode.nodes.forEach(function(e){o.default.set(e,"visible",!0)})):(o.default.set(t.currentNode,"expanded",!1),t.currentNode.nodes.forEach(function(e){I.traverseAssignCollapse(e)})))},saveState:function(e,t){e.states.push(t)},editState:function(e,t){var n=I.findElementInListById(e.states,t);n&&(n.name=t.name,n.color=t.color)},deleteState:function(e,t){e.states.forEach(function(n,o){n.id===t.id&&e.states.splice(o,1)})},saveCounter:function(e,t){e.counters.push(t)},editCounter:function(e,t){var n=I.findElementInListById(e.counters,t);n&&(n.name=t.name,n.threshold=t.threshold,n.uom=t.uom,n.magnitude=t.magnitude)},deleteCounter:function(e,t){e.counters.forEach(function(n,o){n.id===t.id&&e.counters.splice(o,1)})},saveContextField:function(e,t){e.contextFields.push(t)},editContextField:function(e,t){var n=I.findElementInListById(e.contextFields,t);n&&(n.name=t.name,n.defaultValue=t.defaultValue,n.uom=t.uom,n.magnitude=t.magnitude)},deleteContextField:function(e,t){e.contextFields.forEach(function(n,o){n.id===t.id&&e.contextFields.splice(o,1)})},saveTimeModelNode:function(e,t){void 0===t.node.location||void 0===t.nextParentNodeLocation?e.timeModel.nodes.push(t.node):t.nextParentNodeLocation.currentNode.nodes.push(t.node)},editTimeModelNode:function(e,t){t.nodeLocation.currentNode.name=t.updatedNode.name,t.nodeLocation.currentNode.color=t.updatedNode.color,t.nodeLocation.currentNode.location=t.updatedNode.location},deleteTimeModelNode:function(e,t){var n=0;t.parent.nodes.forEach(function(e){e.id===t.currentNode.id&&t.parent.nodes.splice(n,1),n+=1})},expandReasonTreeNode:function(e,t){0!==t.currentNode.nodes.length&&(void 0===t.currentNode.nodes[0].visible||!1===t.currentNode.nodes[0].visible?(o.default.set(t.currentNode,"expanded",!0),t.currentNode.nodes.forEach(function(e){o.default.set(e,"visible",!0)})):(o.default.set(t.currentNode,"expanded",!1),t.currentNode.nodes.forEach(function(e){I.traverseAssignCollapse(e)})))},saveReasonTreeNode:function(e,t){void 0===t.node.location||void 0===t.nextParentNodeLocation?e.reasonTree.nodes.push(t.node):t.nextParentNodeLocation.currentNode.nodes.push(t.node),I.traverseAssignExpand(e.reasonTree)},deleteReasonTreeNode:function(e,t){var n=0;t.parent.nodes.forEach(function(e){e.id===t.currentNode.id&&t.parent.nodes.splice(n,1),n+=1})},editReasonTreeNode:function(e,t){t.nodeLocation.currentNode.stateId=t.updatedNode.stateId}},actions:{savePlantModelNode:function(e,t){var n=e.commit,o=e.state,a=void 0;void 0!==t.location&&(a=I.findNode(o.plantModel,o.plantModel,{id:t.location})),n("savePlantModelNode",t={nextParentNodeLocation:a,node:t})},deletePlantModelNode:function(e,t){var n=e.commit,o=e.state;n("deletePlantModelNode",I.findNode(o.plantModel,o.plantModel,t))},editPlantModelNode:function(e,t){var n=e.commit,o=e.state,a=I.findNode(o.plantModel,o.plantModel,t);if(void 0!==t.location){var i=I.findNode(o.plantModel,o.plantModel,{id:t.location});n("deletePlantModelNode",a),n("savePlantModelNode",t={nextParentNodeLocation:i,node:t})}else n("editPlantModelNode",t={nodeLocation:a,updatedNode:t})},expandPlantModelNode:function(e,t){var n=e.commit,o=e.state;n("expandPlantModelNode",I.findNode(o.plantModel,o.plantModel,t))},editState:function(e,t){var n=e.commit;e.state;n("editState",t)},saveState:function(e,t){var n=e.commit;e.state;n("saveState",t)},deleteState:function(e,t){var n=e.commit;e.state;n("deleteState",t)},editCounter:function(e,t){var n=e.commit;e.state;n("editCounter",t)},saveCounter:function(e,t){var n=e.commit;e.state;n("saveCounter",t)},deleteCounter:function(e,t){var n=e.commit;e.state;n("deleteCounter",t)},editContextField:function(e,t){var n=e.commit;e.state;n("editContextField",t)},saveContextField:function(e,t){var n=e.commit;e.state;n("saveContextField",t)},deleteContextField:function(e,t){var n=e.commit;e.state;n("deleteContextField",t)},saveTimeModelNode:function(e,t){var n=e.commit,o=e.state,a=void 0;void 0!==t.location&&(a=I.findNode(o.timeModel,o.timeModel,{id:t.location})),n("savePlantModelNode",t={nextParentNodeLocation:a,node:t})},editTimeModelNode:function(e,t){var n=e.commit,o=e.state,a=I.findNode(o.timeModel,o.timeModel,t);if(void 0!==t.location){var i=I.findNode(o.timeModel,o.timeModel,{id:t.location});n("deleteTimeModelNode",a),n("saveTimeModelNode",t={nextParentNodeLocation:i,node:t})}else n("editTimeModelNode",t={nodeLocation:a,updatedNode:t})},deleteTimeModelNode:function(e,t){var n=e.commit,o=e.state;n("deleteTimeModelNode",I.findNode(o.timeModel,o.timeModel,t))},expandReasonTreeNode:function(e,t){var n=e.commit,o=e.state;n("expandReasonTreeNode",I.findNode(o.reasonTree,o.reasonTree,t))},saveReasonTreeNode:function(e,t){var n=e.commit,o=e.state,a=void 0;void 0!==t.location&&(a=I.findNode(o.reasonTree,o.reasonTree,{id:t.location})),n("saveReasonTreeNode",t={nextParentNodeLocation:a,node:t})},deleteReasonTreeNode:function(e,t){var n=e.commit,o=e.state;n("deleteReasonTreeNode",I.findNode(o.reasonTree,o.reasonTree,t))},editReasonTreeNode:function(e,t){var n=e.commit,o=e.state,a=I.findNode(o.reasonTree,o.reasonTree,t);if(void 0!==t.location){var i=I.findNode(o.reasonTree,o.reasonTree,{id:t.location});n("deleteReasonTreeNode",a),n("saveReasonTreeNode",t={nextParentNodeLocation:i,node:t})}else n("editReasonTreeNode",t={nodeLocation:a,updatedNode:t})}}}),$=n("zL8q"),R=n.n($),J=n("wUZ8"),A=n.n(J);n("tvR6");o.default.use(R.a,{locale:A.a}),o.default.config.productionTip=!1,new o.default({el:"#app",store:L,router:E,components:{App:r},template:"<App/>"})},Os1y:function(e,t){},Rftg:function(e,t){},c8Ga:function(e,t){},"eoT/":function(e,t){},tvR6:function(e,t){},uGbT:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.31516fed887a4ce88023.js.map